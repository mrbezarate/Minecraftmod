# Устранение "бесконечного бега на месте"

## Проблема
Бот попал в цикл быстрой смены целей (`Path found! Status: partial/timeout`). Это происходит в `ExplorationModule`, потому что:
1.  Слушатель `path_update` вызывает `onPathFailed` при частичном пути или таймауте, что мгновенно завершает `await` и запускает новую итерацию цикла.
2.  Цикл не имеет достаточной задержки при ошибке, поэтому бот спамит попытками найти путь сотни раз в секунду.
3.  Возможно, бот пытается идти в недоступную точку (под землей или в воздухе), и `pathfinder` сразу сдается.

## Решение

### 1. Добавить задержку при неудаче
В `api/bot/exploration.ts`: если путь не найден или он частичный (`partial`), нужно ждать 2-3 секунды перед следующей попыткой, чтобы дать pathfinder'у "отдохнуть" и не спамить сервер/консоль.

### 2. Игнорировать промежуточные обновления
Событие `path_update` может приходить много раз. Нам нужно реагировать только на финальный результат или явный провал. Частичный путь (`partial`) может быть нормальным началом движения, но если он слишком короткий (1 узел), значит мы застряли.

### 3. "Разлепить" бота
Если бот получает статус `noPath` или `timeout` несколько раз подряд, нужно попробовать сделать случайный прыжок или шаг, используя `bot.setControlState('jump', true)`, чтобы выбраться из возможного застревания в блоке.

## Шаги реализации
1.  **`api/bot/exploration.ts`**:
    -   Переписать логику обработки `path_update`.
    -   Если `status === 'success'`, ждать достижения цели.
    -   Если `status === 'noPath'` или `timeout`, ждать 2 секунды и выходить из `Promise`.
    -   Добавить проверку: если мы застряли (ошибка движения), сбросить `lastTarget`, чтобы выбрать новую точку в другом направлении.

Это успокоит бота и вернет ему способность нормально ходить.
